{% extends 'base.html' %}

{% block content %}
<h1>How do you feel?</h1>
<h2>Select an emoji</h2>
<div class="emoji-container">
    <div class="emoji" data-mood="very bad">&#128577;</div> <!-- ðŸ˜¡ -->
    <div class="emoji" data-mood="bad">&#128542;</div> <!-- ðŸ˜¢ -->
    <div class="emoji" data-mood="average">&#128528;</div> <!-- ðŸ˜ -->
    <div class="emoji" data-mood="good">&#128522;</div> <!-- ðŸ˜Š -->
    <div class="emoji" data-mood="very good">&#128513;</div> <!-- ðŸ˜ƒ -->
</div>
<p>Note: From a sad to smiling emoji transition.</p>

<script>
    document.querySelectorAll('.emoji').forEach(emoji => {
        emoji.addEventListener('click', () => {
            const mood = emoji.getAttribute('data-mood');
            fetch('/record_mood/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': '{{ csrf_token }}'
                },
                body: JSON.stringify({ mood: mood })
            })
            .then(response => response.json())
            .then(data => alert(`Your mood is recorded as: ${data.mood}`));
        });
    });
</script>
{% endblock %}
